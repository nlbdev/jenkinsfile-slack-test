<?xml version="1.0" encoding="UTF-8"?><?xml-stylesheet type="text/xsl" href="xspec:/xspec/compiler/format-xspec-report.xsl"?><x:report xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:test="http://www.jenitennison.com/xslt/unit-test" xmlns:x="http://www.jenitennison.com/xslt/xspec" xmlns:pkg="http://expath.org/ns/pkg" xmlns:impl="urn:x-xspec:compile:xslt:impl" xmlns:dtbook="http://www.daisy.org/z3986/2005/dtbook/" xmlns="http://www.daisy.org/z3986/2005/dtbook/" stylesheet="file:/home/jostein/daisy-pipeline/pipeline/modules/nlb/book-to-pef/src/main/resources/xml/pre-processing.xsl" date="2018-04-20T15:58:27.297+02:00"><x:scenario><x:label>automatically give number to noterefs that are not already numbered</x:label><x:context><div><noteref>1</noteref><noteref>2</noteref><noteref>3</noteref><noteref>*</noteref><noteref>*</noteref><noteref>*</noteref></div></x:context><x:result><div><noteref>1</noteref><noteref>2</noteref><noteref>3</noteref><noteref>4</noteref><noteref>5</noteref><noteref>6</noteref></div></x:result><x:test successful="true"><x:label/><x:expect><div><noteref>1</noteref><noteref>2</noteref><noteref>3</noteref><noteref>4</noteref><noteref>5</noteref><noteref>6</noteref></div></x:expect></x:test></x:scenario><x:scenario><x:label>automatically give number to notes that are not already numbered</x:label><x:context><div><note><p>* lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note><note><p>* lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note><note><p>* lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note></div></x:context><x:result><div><note><p>1 lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note><note><p>2 lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note><note><p>3 lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note></div></x:result><x:test successful="true"><x:label/><x:expect><div><note><p>1 lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note><note><p>2 lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note><note><p>3 lorem ipsum</p><p>* lorem ipsum</p><p>* lorem ipsum</p></note></div></x:expect></x:test></x:scenario><x:scenario><x:label>the precedingseparator class should be replaced with a hr element</x:label><x:context><div><p class="other-class precedingseparator"/></div></x:context><x:result><div><hr/><p class="other-class"/></div></x:result><x:test successful="true"><x:label/><x:expect><div><hr/><p class="other-class"/></div></x:expect></x:test></x:scenario><x:scenario><x:label>the precedingemptyline class should be replaced with a hr element with a emptyline class</x:label><x:context><div><p class="other-class precedingemptyline"/></div></x:context><x:result><div><hr class="emptyline"/><p class="other-class"/></div></x:result><x:test successful="true"><x:label/><x:expect><div><hr class="emptyline"/><p class="other-class"/></div></x:expect></x:test></x:scenario><x:scenario><x:label>move colophon to rearmatter (with existing rearmatter)</x:label><x:context><book><frontmatter><level1 class="cover"/><level1/><level1 class="colophon"/></frontmatter><bodymatter><level1/></bodymatter><rearmatter><level1/></rearmatter></book></x:context><x:result><book><frontmatter><level1 class="cover"/><level1/></frontmatter><bodymatter><level1/></bodymatter><rearmatter><level1/><level1 class="colophon"/></rearmatter></book></x:result><x:test successful="true"><x:label/><x:expect><book><frontmatter><level1 class="cover"/><level1/></frontmatter><bodymatter><level1/></bodymatter><rearmatter><level1/><level1 class="colophon"/></rearmatter></book></x:expect></x:test></x:scenario><x:scenario><x:label>move colophon to rearmatter (without existing rearmatter)</x:label><x:context><book><frontmatter><level1 class="cover"/><level1/><level1 class="colophon"/></frontmatter><bodymatter><level1/></bodymatter></book></x:context><x:result><book><frontmatter><level1 class="cover"/><level1/></frontmatter><bodymatter><level1/></bodymatter><rearmatter><level1 class="colophon"/></rearmatter></book></x:result><x:test successful="true"><x:label/><x:expect><book><frontmatter><level1 class="cover"/><level1/></frontmatter><bodymatter><level1/></bodymatter><rearmatter><level1 class="colophon"/></rearmatter></book></x:expect></x:test></x:scenario><x:scenario><x:label>remove titlepage and print toc</x:label><x:context><frontmatter><level1 class="cover"/><level1 class="titlepage"/><level1 class="toc"/><level1 class="print_toc"/></frontmatter></x:context><x:result><frontmatter><level1 class="cover"/></frontmatter></x:result><x:test successful="true"><x:label/><x:expect><frontmatter><level1 class="cover"/></frontmatter></x:expect></x:test></x:scenario></x:report>